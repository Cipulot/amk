
set(TUSB_PATH "${CMAKE_CURRENT_SOURCE_DIR}/tinyusb/src")
set(TUSB_SRCS 
  ${TUSB_PATH}/tusb.c
	${TUSB_PATH}/common/tusb_fifo.c
	${TUSB_PATH}/device/usbd.c
	${TUSB_PATH}/device/usbd_control.c
	${TUSB_PATH}/class/cdc/cdc_device.c
	${TUSB_PATH}/class/dfu/dfu_rt_device.c
	${TUSB_PATH}/class/hid/hid_device.c
	${TUSB_PATH}/class/midi/midi_device.c
	${TUSB_PATH}/class/msc/msc_device.c
	${TUSB_PATH}/class/net/net_device.c
	${TUSB_PATH}/class/usbtmc/usbtmc_device.c
	${TUSB_PATH}/class/vendor/vendor_device.c
	${TUSB_PATH}/portable/nordic/nrf5x/dcd_nrf5x.c
)

add_library(tusb STATIC ${TUSB_SRCS})

target_include_directories(tusb PUBLIC "${CMAKE_CURRENT_SOURCE_DIR}" "${TUSB_PATH}" )
target_link_libraries(tusb PUBLIC nrf5_sdk)